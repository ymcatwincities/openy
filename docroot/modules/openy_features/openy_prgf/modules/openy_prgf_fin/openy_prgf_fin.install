<?php

/**
 * @file
 * Install, update and uninstall functions for the openy_prgf_fin feature.
 */

/**
 * Remove redundant content bundle.
 */
function openy_prgf_fin_update_8001() {
  $config_importer = \Drupal::service('config_import.importer');
  $config_importer->setDirectory(drupal_get_path('module', 'openy_prgf_fin') . '/config/install');
  $config_importer->importConfigs(
    [
      'webform.webform.financial_aid',
    ]
  );
}

/**
 * YGH-417: Add OpenY Member fields.
 */
function openy_prgf_fin_update_8002() {
  $config_importer = \Drupal::service('config_import.importer');
  $config_importer->setDirectory(drupal_get_path('module', 'openy_prgf_fin') . '/config/install');
  $config_importer->importConfigs(
    [
      'webform.webform.financial_aid',
    ]
  );
}

/**
 * Disable Financial aid web form page.
 */
function openy_prgf_fin_update_8003() {
  $config_importer = \Drupal::service('config_import.importer');
  $config_importer->setDirectory(drupal_get_path('module', 'openy_prgf_fin') . '/config/install');
  $config_importer->importConfigs(
    [
      'webform.webform.financial_aid',
    ]
  );
}

/**
 * Fixed field validation.
 */
function openy_prgf_fin_update_8004() {
  $config_importer = \Drupal::service('config_import.importer');
  $config_importer->setDirectory(drupal_get_path('module', 'openy_prgf_fin') . '/config/install');
  $config_importer->importConfigs(
    [
      'webform.webform.financial_aid',
    ]
  );
}

/**
 * Disable 'Tax Verified' openy_member field component.
 */
function openy_prgf_fin_update_8005() {
  $config_importer = \Drupal::service('config_import.importer');
  $config_importer->setDirectory(drupal_get_path('module', 'openy_prgf_fin') . '/config/install');
  $config_importer->importConfigs(
    [
      'webform.webform.financial_aid',
    ]
  );
}

/**
 * Add location field to webform and Referenced Node Email submit handler to send email to location contact.
 */
function openy_prgf_fin_update_8006() {
  $config_importer = \Drupal::service('config_import.importer');
  $config_importer->setDirectory(drupal_get_path('module', 'openy_prgf_fin') . '/config/install');
  $config_importer->importConfigs(
    [
      'webform.webform.financial_aid',
    ]
  );
}

/**
 * Update webform fields.
 */
function openy_prgf_fin_update_8007() {
  $config_importer = \Drupal::service('config_import.importer');
  $config_importer->setDirectory(drupal_get_path('module', 'openy_prgf_fin') . '/config/install');
  $config_importer->importConfigs(
    [
      'webform.webform.financial_aid',
    ]
  );
}
